var clicks=0,step=0,focus=1,logic={period:"am",hours:0,minutes:0},hours=logic.hours,minutes=logic.minutes,haschanged,clear,counter,interval,final=!1,button=$(".time");button.length&&button.singletap(function(){1==final&&(window.location="/index.html"),setTimeout(function(){return clear?!1:(clicks>=0&&1==focus&&changePeriod(),2==focus&&(changeHours(),haschanged=!0),3==focus&&changeMinutes(),1==clicks&&(step=1,$(".s0").removeClass("active"),$(".s1").addClass("active"),button.html("DOUBLE TAP ME")),clicks>6&&1==haschanged&&(step=3,$(".s2").removeClass("active"),$(".s3").addClass("active")),clicks+=1,void 0)},200)}).doubletap(function(){clear=!0,setTimeout(function(){clear=!1},201),focus=changeStep(focus),1==step&&9>clicks&&(step=2,$(".s1").removeClass("active"),$(".s2").addClass("active"))}).taphold(function(){counter=0,1==haschanged&&($(".success").addClass("start"),interval=setInterval(function(){counter+=.1,counter.toFixed(1),counter>=1.5&&0==hours?($(".success").removeClass("start").addClass("error"),clearInterval(interval),setTimeout(function(){$(".success").removeClass("error")},500)):counter>=1.5&&(button.html("Reset"),button.addClass("green"),final=!0,clearInterval(interval),$(".final").addClass("done"))},100))}).tapend(function(){1.4>=counter&&($(".success").removeClass("start"),clearInterval(interval))});var changeStep=function(s){return 3==s?(button.html("Change AM / PM"),s=1):1==s?(button.html("Change Hours"),s=2):(button.html("Change Minutes"),s=3),$(".stage").removeClass("focus"),$(".focus"+s).addClass("focus"),s},changePeriod=function(){"am"==logic.period?(logic.period="pm",$(".period").removeClass("setAM"),$(".period").addClass("setPM")):(logic.period="am",$(".period").removeClass("setPM"),$(".period").addClass("setAM"))},changeHours=function(){if(12==hours?hours=1:hours+=1,9>=hours)$(".h1").html(0),$(".h2").html(hours);else{$(".h1").html(1);var s=hours.toString();$(".h2").html(s.substring(1,2))}logic.hours=hours},changeMinutes=function(){if(59==minutes?minutes=0:minutes+=1,9>=minutes)$(".m1").html(0),$(".m2").html(minutes);else{var s=minutes.toString();$(".m1").html(s.substring(0,1)),$(".m2").html(s.substring(1,2))}logic.minutes=minutes};